javascript:void function(){javascript:void function(){const e=document.querySelector("%23stageFrame");if(e){const a=e.contentDocument||e.contentWindow.document,b=a.body,c=a.querySelector(".main-container");if(c){function b(a,b){function c(){f<h.length%26%26(a.innerHTML+=h.charAt(f),f++,setTimeout(c,g))}a.style.display="block",a.innerHTML="";const d=[...b.matchAll(/\*\*(.*%3F)\*\*/g)];let e="";0<d.length%3Fd.forEach(a=>{const b=document.createElement("span");b.style.fontWeight="bold",b.textContent=a[1],e+=b.outerHTML+"<br>"}):e=b.replace(/\n/g,"<br>"),a.innerHTML=e;let f=0,g=50;const h=a.textContent||a.innerText;c()}const d=document.createElement("button");d.textContent="Copy Text",d.style.position="fixed",d.style.bottom="5px",d.style.left="10px",d.style.padding="10px 20px",d.style.backgroundColor="%23007BFF",d.style.color="white",d.style.border="none",d.style.borderRadius="5px",d.style.cursor="pointer",c.appendChild(d);const e=document.createElement("div");e.style.position="fixed",e.style.bottom="60px",e.style.left="10px",e.style.width="90%25",e.style.maxHeight="300px",e.style.overflowY="auto",e.style.backgroundColor="rgba(245, 245, 245, 0.7)",e.style.padding="20px",e.style.borderRadius="10px",e.style.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.1)",e.style.fontFamily="Arial, sans-serif",e.style.fontSize="16px",e.style.whiteSpace="pre-wrap",e.style.wordWrap="break-word",e.style.display="none",e.style.pointerEvents="none",c.appendChild(e),d.addEventListener("click",function(){const c=a.querySelectorAll(".question-container");let d="",f=!1;c.forEach(a=>{d+=a.innerText+"\n",a.querySelector("img")%26%26(f=!0)}),d+="\nPLEASE PUT THE CORRECT ANSWER IN BOLD AND ONLY THE CORRECT ANSWER AND NOTHING ELSE!!!!",f%26%26(d+="\n\nTHERE ALSO MIGHT BE AN IMAGE, PLEASE SEARCH TO FIND ANSWERS ON THE WEB, IF YOU CAN."),navigator.clipboard.writeText(d).then(()=>{console.log("Text copied to clipboard with instructions!")}).catch(a=>{alert("Failed to copy text, check console for more information."),console.error("Failed to copy text: ",a)}),e.innerHTML=`<div style="text-align:center;"><div class="spinner" style="border: 4px solid %23f3f3f3; border-top: 4px solid %23007BFF; border-radius: 50%25; width: 50px; height: 50px; animation: spin 2s linear infinite;"></div><p style="margin-top: 10px;">Sending to server...</p></div>`,e.style.display="block",setTimeout(function(){fetch("http://localhost:3000/process-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({finalText:d})}).then(a=>{if(!a.ok)throw new Error("Network response was not ok");return a.json()}).then(a=>{const c=a.response;e.innerHTML="",b(e,c)}).catch(a=>{console.error("API request failed:",a),e.innerHTML=`<p style="color: red; text-align:center;">Failed to fetch response from server. Please try again later.</p>`})},2e3)})}else console.error("Main container not found inside the iframe.")}else console.error("Iframe with id \"stageFrame\" not found.")}()}();
